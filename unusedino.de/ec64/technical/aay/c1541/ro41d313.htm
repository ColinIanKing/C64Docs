<html><head><title>All_About_Your_1541-Online-Help Version 0.23</title></head>
<body bgcolor="#a098ff" text="#000000" link="#ffffff" alink="#ffffff" vlink="#404040"><center><table><tr><td><pre>

 $D313/54035:   Close all channels of other drives

Jump from <a href="ro41d042.htm">$D045</a>, <a href="ro41ebff.htm">$EC55</a>, <a href="ro41ebff.htm">$EC66</a>:

D313: A9 0E     LDA #$0E        ; 14
D315: 85 83     STA <a href="ra4183.htm">$83</a>         ; secondary address

Jump from $D336:

D317: A6 83     LDX <a href="ra4183.htm">$83</a>
D319: BD 2B 02  LDA <a href="ra41022b.htm">$022B</a>,X     ; association table
D31C: C9 FF     CMP #$FF        ; channel associated?
D31E: F0 14     BEQ $D334       ; no
D320: 29 3F     AND #$3F
D322: 85 82     STA <a href="ra4182.htm">$82</a>         ; channel number
D324: 20 93 DF  JSR <a href="ro41df93.htm">$DF93</a>       ; get buffer number
D327: AA        TAX
D328: BD 5B 02  LDA <a href="ra41025b.htm">$025B</a>,X     ; drive number
D32B: 29 01     AND #$01        ; isolate
D32D: C5 7F     CMP <a href="ra417f.htm">$7F</a>         ; equal to actual drive number
D32F: D0 03     BNE $D334       ; no
D331: 20 27 D2  JSR <a href="ro41d227.htm">$D227</a>       ; close channel

Jump from $D31E, $D32F:

D334: C6 83     DEC <a href="ra4183.htm">$83</a>         ; next channel
D336: 10 DF     BPL $D317
D338: 60        RTS

    <a href="ro41d307.htm">Previous Page</a> / <a href="ro41d339.htm">Next Page</a>

</pre></td></tr></table></center></body></html>
