<html><head><title>All_About_Your_1581-Online-Help Version 0.13</title></head>
<body bgcolor="#a098ff" text="#000000" link="#ffffff" alink="#ffffff" vlink="#404040"><center><table><tr><td><pre>

BAM-Zeiger auf Eintrag fuer aktuellen Track setzen ($f011)

Einsprung von <a href="ro81b546.htm">$B546</a>, <a href="ro81b572.htm">$B572</a>, <a href="ro81b668.htm">$B675</a>, <a href="ro81b6ed.htm">$B710</a>, <a href="ro81b6ed.htm">$B72B</a>, <a href="ro81b746.htm">$B746</a>:

B5B4: A5 6E     LDA <a href="ra816e.htm">$6E</a>          Drivestatus Ok. ?
B5B6: F0 05     BEQ $B5BD        ja, ==&gt;
B5B8: A9 74     LDA #$74         74, Drive not ready
B5BA: 20 3F FF  JSR <a href="ro81ff00.htm">$FF3F</a>

Einsprung von $B5B6, <a href="ro818f03.htm">$8FA0</a>:

B5BD: 20 52 B6  JSR <a href="ro81b64f.htm">$B652</a>        Zeiger auf 1. BAM-Puffer setzen
B5C0: A5 4D     LDA <a href="ra814d.htm">$4D</a>          (Tracks 1-40)
B5C2: C9 29     CMP #$29         Tracknummer &lt; 41
B5C4: 90 04     BCC $B5CA        ja, ==&gt;
B5C6: E9 28     SBC #$28         Auf 2. BAM-Puffer schalten
B5C8: E6 32     INC <a href="ra8131.htm">$32</a>          (Tracks 41-80)

Einsprung von $B5C4:

B5CA: 0A        ASL              Tracknummer * 6 [5 Bytes fuer das Bitmuster
B5CB: 85 31     STA <a href="ra8131.htm">$31</a>           (5 * 8 Bit = 40 Bit fuer 40 Blocks)
B5CD: 0A        ASL               +1 Byte (Anzahl freier Blocks) = 6 Bytes]
B5CE: 18        CLC
B5CF: 65 31     ADC <a href="ra8131.htm">$31</a>
B5D1: 69 0A     ADC #$0A         + 10 (Anfang der Tabelle)
B5D3: 85 31     STA <a href="ra8131.htm">$31</a>          Zeigt auf BAM-Bitmuster des aktuellen
B5D5: A0 00     LDY #$00         Tracks
B5D7: 60        RTS

    <a href="ro81b572.htm">Previous Page</a> / <a href="ro81b5d8.htm">Next Page</a>

</pre></td></tr></table></center></body></html>
